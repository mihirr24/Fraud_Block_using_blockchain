<!doctype html>
<html lang="en">
  <head>
    <title>Fake Product Identification</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href='https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
      .hero-section {
        background: linear-gradient(45deg, #2c3e50, #3498db);
        color: white;
        padding: 4rem 0;
        margin-bottom: 3rem;
      }
      
      .hero-title {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
      }
      
      .hero-subtitle {
        font-size: 1.2rem;
        opacity: 0.9;
      }
      
      .feature-card {
        background: #ffffff;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(0,0,0,0.1);
        padding: 2rem;
        margin-bottom: 2rem;
        transition: all 0.3s ease;
        height: 100%;
      }
      
      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 30px rgba(0,0,0,0.15);
      }
      
      .feature-icon {
        font-size: 2.5rem;
        color: #3498db;
        margin-bottom: 1rem;
      }
      
      .feature-title {
        color: #2c3e50;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }
      
      .feature-description {
        color: #7f8c8d;
        line-height: 1.6;
      }
      
      .navbar {
        background: linear-gradient(45deg, #2c3e50, #3498db) !important;
        padding: 1rem 0;
      }
      
      .navbar-brand {
        font-weight: 700;
        font-size: 1.5rem;
        color: #ffffff !important;
      }
      
      .nav-link {
        color: rgba(255,255,255,0.9) !important;
        font-weight: 500;
        transition: all 0.3s ease;
      }
      
      .nav-link:hover {
        color: #ffffff !important;
        transform: translateY(-2px);
      }

      .qr-section {
        background: #ffffff;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(0,0,0,0.1);
        padding: 2rem;
        margin-bottom: 2rem;
      }

      .form-section {
        background: #ffffff;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(0,0,0,0.1);
        padding: 2rem;
        margin-bottom: 2rem;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container">
        <a class="navbar-brand" href="index.html">
          <i class="fas fa-shield-alt me-2"></i>FraudBlock
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html"><i class="fas fa-home me-1"></i>Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="manufacturer.html"><i class="fas fa-industry me-1"></i>Manufacturer</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="seller.html"><i class="fas fa-store me-1"></i>Seller</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="consumer.html"><i class="fas fa-user me-1"></i>Consumer</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <section class="hero-section">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <h1 class="hero-title">Sell Product to Consumer</h1>
            <p class="hero-subtitle">Scan QR codes and complete the sale process securely through blockchain technology.</p>
          </div>
          <div class="col-lg-6 text-center">
            <i class="fas fa-qrcode" style="font-size: 8rem; opacity: 0.8;"></i>
          </div>
        </div>
      </div>
    </section>

    <section class="container">
      <div class="qr-section">
        <h2 class="feature-title mb-4">Scan Product QR Code</h2>
        <div class="row justify-content-center">
          <div class="col-md-6">
            <div id="qr-reader" style="width:100%"></div>
            <div id="qr-reader-results" class="mt-3"></div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h2 class="feature-title mb-4">Product Details</h2>
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="productSN" class="form-label">Product Serial Number</label>
              <input disabled class="form-control" id="productSN" name="productSN" type="text" />
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="consumerCode" class="form-label">Consumer Code</label>
              <input class="form-control" id="consumerCode" name="consumerCode" type="text" />
            </div>
          </div>
        </div>
        <div class="text-center mt-4">
          <button type="submit" class="btn btn-primary btn-lg" id="register">
            <i class="fas fa-store me-2"></i>Sell to Consumer
          </button>
        </div>
      </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/sellProductSeller.js"></script>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <script>
      var decodedText = "Enter Product SN";
      function docReady(fn) {
        if (document.readyState === "complete" || document.readyState === "interactive") {
          setTimeout(fn, 1);
        } else {
          document.addEventListener("DOMContentLoaded", fn);
        }
      }

      docReady(function () {
        var resultContainer = document.getElementById('qr-reader-results');
        var lastResult, countResults = 0;
        function onScanSuccess(decodedText, decodedResult) {
          if (decodedText !== lastResult) {
            ++countResults;
            lastResult = decodedText;
            var audio = new Audio('beep.wav');
            audio.play();
            document.getElementById('qr-reader-results').innerHTML = decodedText;
            document.getElementById("productSN").value = decodedText;
          }
        }

        var html5QrcodeScanner = new Html5QrcodeScanner(
          "qr-reader", { fps: 10, qrbox: 250 });
        html5QrcodeScanner.render(onScanSuccess);
      });
    </script>
  </body>
</html>